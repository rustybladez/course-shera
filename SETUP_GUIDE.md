# Course Shera - Hackathon Setup Guide

## âš¡ Quick Start (5 minutes)

### 1. Prerequisites
- Python 3.10+ installed
- Node.js 18+ installed
- Free Neon Postgres account (https://neon.tech)
- Free Gemini API key (https://ai.google.dev)

### 2. Get your database URL
1. Go to https://neon.tech and sign up (free)
2. Create a new project: name it `course-shera`
3. Copy the connection string (looks like: `postgresql://user:password@host:5432/course_shera`)
4. Keep this password safe!

### 3. Get your Gemini API key
1. Go to https://ai.google.dev
2. Click "Get API Key" â†’ "Create API key in new Google Cloud project"
3. Copy your API key

### 4. Run setup (automatic)
```powershell
# From the project root directory
.\setup.ps1
```

This will:
- Create Python virtual environment
- Install all dependencies
- Create environment files

### 5. Configure environment
Edit `backend\.env`:
```env
DATABASE_URL=postgresql://user:password@host:5432/course_shera
GEMINI_API_KEY=your-api-key-here
```

Edit `frontend\.env.local`:
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### 6. Run both servers
```powershell
.\run.ps1
```

This opens two new PowerShell windows:
- **Backend**: http://localhost:8000 (API + docs at /docs)
- **Frontend**: http://localhost:3000 (Next.js app)

---

## ğŸ“ Project Structure

```
course-shera/
â”œâ”€â”€ backend/                    # FastAPI application
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py            # FastAPI app creation
â”‚   â”‚   â”œâ”€â”€ db.py              # Database setup
â”‚   â”‚   â”œâ”€â”€ models.py          # SQLAlchemy models
â”‚   â”‚   â”œâ”€â”€ schemas.py         # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ routes/        # API endpoints
â”‚   â”‚   â”œâ”€â”€ services/          # Business logic (RAG, generation, etc)
â”‚   â”‚   â””â”€â”€ core/
â”‚   â”‚       â””â”€â”€ config.py      # Settings from .env
â”‚   â”œâ”€â”€ tests/                 # Unit tests
â”‚   â”œâ”€â”€ scripts/               # Seed data, migrations
â”‚   â”œâ”€â”€ requirements.txt       # Python dependencies
â”‚   â””â”€â”€ .env.example           # Environment template
â”‚
â”œâ”€â”€ frontend/                  # Next.js application
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ app/              # Next.js App Router
â”‚   â”œâ”€â”€ public/               # Static assets
â”‚   â”œâ”€â”€ package.json          # Node dependencies
â”‚   â””â”€â”€ .env.local.example    # Environment template
â”‚
â”œâ”€â”€ setup.ps1                 # Automated setup script
â”œâ”€â”€ run.ps1                   # Start both servers
â””â”€â”€ README.md                 # This file
```

---

## ğŸ”§ Manual Setup (if script fails)

### Backend
```bash
cd backend
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
copy .env.example .env
# Edit .env with your Neon URL and Gemini key
uvicorn app.main:app --reload --port 8000
```

### Frontend
```bash
cd frontend
copy .env.local.example .env.local
npm install
# Edit .env.local with API URL
npm run dev
```

---

## ğŸ“š Database Schema

The app auto-creates tables on first run. Key tables:

- **users** - User profiles (via Clerk + custom roles)
- **courses** - Course definitions
- **materials** - PDFs, slides, code files, notes
- **material_chunks** - Vector embeddings + metadata
- **generated_assets** - Notes/slides/code generated by AI
- **chat_threads** - Conversation history
- **chat_messages** - Individual chat messages

Vector embeddings are stored in `material_chunks` using `pgvector` type.

---

## ğŸš€ Common Commands

**View API docs (after backend starts):**
```
http://localhost:8000/docs
```

**Run backend tests:**
```bash
cd backend
.venv\Scripts\activate
pytest tests/
```

**Build frontend for production:**
```bash
cd frontend
npm run build
npm run start
```

**Check database connection:**
```bash
cd backend
.venv\Scripts\activate
python -c "from app.db import engine; print(engine.execute('SELECT 1'))"
```

---

## âš ï¸ Troubleshooting

### "ModuleNotFoundError: No module named 'app'"
- Make sure you're in the `backend/` directory when running commands
- Ensure `.venv` is activated

### "psycopg connection failed"
- Check DATABASE_URL is correct (copy from Neon dashboard)
- Ensure Postgres is accessible from your machine (Neon allows this by default)
- Test connection: `psql <your-database-url>`

### "GEMINI_API_KEY not found"
- Verify `backend/.env` file exists and has the key
- Don't commit `.env` to git (it's in `.gitignore`)

### "Frontend won't start"
- Make sure backend is running (check http://localhost:8000/docs)
- Clear `frontend/node_modules` and `frontend/.next`, then `npm install` again
- Check `NEXT_PUBLIC_API_URL` in `.env.local`

### Port already in use
- Backend: `uvicorn app.main:app --reload --port 8001`
- Frontend: `npm run dev -- -p 3001`

---

## ğŸ¯ Development Tips

1. **Hot reload**: Both servers auto-reload on file changes
2. **API testing**: Use http://localhost:8000/docs (Swagger UI)
3. **Database**: Use Neon web console to query directly
4. **Logs**: Check console output for errors
5. **Git**: Never commit `.env` or `node_modules/`

---

## ğŸ—ï¸ Next Steps

1. **Seed data**: Run `python backend/scripts/seed_demo.py` to populate sample courses
2. **Test endpoints**: Use the Swagger UI to test endpoints
3. **Build UI**: Start building React components in `frontend/src/app`
4. **Implement features**: Check the problem statement for MVP requirements

Good luck with the hackathon! ğŸš€
